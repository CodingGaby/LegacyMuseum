---
import BackBtn from "@components/ui/Buttons/BackBtn.astro";
import Layout from "../../layouts/Layout.astro";
import BankAccountForm from "@components/BankAccount/BankAccountForm.astro";
import { turso } from "src/turso";
import SubmitBtn from "@components/ui/Buttons/SubmitBtn.astro";

if (Astro.request.method === 'POST') {
  // Parse form data
  const formData = await Astro.request.formData();
  const accountNumber = formData.get('accountNumber');
  const email = formData.get('email');
  const accountType = formData.get('accountType');
  const currency = formData.get('currency');
  const bicCode = formData.get('bicCode');
  const ownerName = formData.get('ownerName');
  const ownerPtrlSurname = formData.get('ownerPtrlSurname');
  const ownerMtrlSurname = formData.get('ownerMtrlSurname');
  const rfc = formData.get('rfc');
  const phoneNumber = formData.get('phoneNumber');
  const address = formData.get('address');
  const birthDate = formData.get('birthDate');

  console.log(accountNumber, email, accountType, currency, bicCode, ownerName, ownerPtrlSurname, ownerMtrlSurname, rfc, phoneNumber, address, birthDate);
}
---

<Layout title="Bank Account">
  <BankAccountForm>
    
    <div class="flex justify-end max-w-full mx-auto px-8">
      <BackBtn />
      <SubmitBtn>
        Add
      </SubmitBtn>
    </div>

  </BankAccountForm>
  
</Layout>
