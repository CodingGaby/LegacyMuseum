---
import FormInput from "@components/ui/Forms/FormInput.astro";
import FormSelect from "@components/ui/Forms/FormSelect.astro";

// Aquí puedes hacer una llamada a la base de datos para obtener los valores dinámicamente
const banks = await fetch('/api/banks'); // API que obtiene la lista de bancos
const currencies = await fetch('/api/currencies'); // API que obtiene la lista de monedas
const accountTypes = await fetch('/api/account-types'); // API que obtiene los tipos de cuentas
const statusList = await fetch('/api/status'); // API que obtiene los estados
---

<form class="max-w-full mx-auto p-8">
  <h2 class="text-2xl dark:text-white font-bold mb-6">Bank Account Data</h2>

  <FormSelect name="bankID" title="Bank" isRequired>
    <option value="">Select a Bank</option>
    {banks.map((bank) => (
      <option value={bank.bankID}>{bank.bankName}</option>
    ))}
  </FormSelect>

  <FormSelect name="currencyID" title="Currency" isRequired>
    <option value="">Select a Currency</option>
    {currencies.map((currency) => (
      <option value={currency.currencyID}>{currency.currencyName}</option>
    ))}
  </FormSelect>

  <FormSelect name="accountTypeID" title="Account Type" isRequired>
    <option value="">Select Account Type</option>
    {accountTypes.map((type) => (
      <option value={type.accountTypeID}>{type.accountTypeName}</option>
    ))}
  </FormSelect>

  <FormSelect name="statusID" title="Status" isRequired>
    <option value="">Select Account Status</option>
    {statusList.map((status) => (
      <option value={status.statusID}>{status.statusName}</option>
    ))}
  </FormSelect>

  <FormInput name="bicCode" type="text" placeholder="BIC Code" isRequired>
    BIC Code
  </FormInput>

  <FormSelect name="entityType" title="Entity Type" isRequired>
    <option value="">Select Entity Type</option>
    <option value="customer">Customer</option>
    <option value="supplier">Supplier</option>
    <option value="employee">Employee</option>
  </FormSelect>

  <!-- Additional Fields -->
  <div class="flex flex-wrap gap-4">
    <FormInput name="entityID" type="number" placeholder="Entity ID" isRequired>
      Entity ID
    </FormInput>

    <FormInput name="accountNumber" type="number" placeholder="Account Number" isRequired>
      Account Number
    </FormInput>
  </div>
</form>
